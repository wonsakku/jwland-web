<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" >
<head>
<meta charset="utf-8">
<!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"
	content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
<meta name="generator" content="Hugo 0.88.1">
<title>Signin Template · Bootstrap v4.6</title>

<link rel="canonical" href="https://getbootstrap.com/docs/4.6/examples/sign-in/">
<script src="/node_modules/jquery/dist/jquery.min.js"></script>
<script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css" />
<link href="/css/signin.css" rel="stylesheet">

<style>
.bd-placeholder-img {
	font-size: 1.125rem;
	text-anchor: middle;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

@media ( min-width : 768px) {
	.bd-placeholder-img-lg {
		font-size: 3.5rem;
	}
}
</style>
</head>

<body class="text-center">
	<form class="form-signin" action="#" th:action="@{/login}" method="post">
		<img class="mb-4" src="/images/brand/bootstrap-solid.svg" alt="" width="72" height="72">
		<h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
		<label for="inputEmail" class="sr-only">Email address</label>
		<input type="text" name="id" id="id" class="form-control" placeholder="ID" required autofocus> 
		<label for="inputPassword" class="sr-only">Password</label> 
		<input type="password" name="password" id="password" class="form-control" placeholder="PASSWORD" required>
		<div class="checkbox mb-3">
			<label><input type="checkbox" value="remember-me">Remember me</label>
		</div>
		<button class="btn btn-lg btn-primary btn-block" type="submit">로그인</button>
		<button id="join-btn" class="btn btn-lg btn-info btn-block" type="submit">회원가입</button>
		<p class="mt-5 mb-3 text-muted">&copy; BootStrap 2017-2021</p>
	</form>
</body>



<script th:inline="javascript">

	
(function(){

  	window.addEventListener('load', function () {

		var form = document.getElementsByTagName('form')[0];
		form.addEventListener("submit", function(e){
			e.preventDefault();
			login();
		});

	    // Fetch all the forms we want to apply custom Bootstrap validation styles to
	    var forms = document.getElementsByClassName('needs-validation');

	    // Loop over them and prevent submission
	    Array.prototype.filter.call(forms, function (form) {
	      form.addEventListener('submit', function (event) {
	        if (form.checkValidity() === false) {
	          event.preventDefault();
	          event.stopPropagation();
	        }
	        form.classList.add('was-validated');
	      }, false)
	    })
	  }, false);
})();

function login(){
	var id = $("#id").val();
	var password = $("#password").val();
	
	var requestBody = new Object();
	requestBody.id = id;
	requestBody.password = password;
	
	var url = "/login";
	
	$.ajax({
		url: url,
		method: "POST",
		contentType: "application/json",
		data: JSON.stringify(requestBody),
		timeout: 5000,
		success: function(message, a, b){
			alert(message);
			location.href = "/";
		},
		error: function(a, b, c){
			alert(a.responseText);
		}
	});
}
	
	
</script>

</html>








