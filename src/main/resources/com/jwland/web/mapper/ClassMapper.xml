<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jwland.web.mapper.ClassMapper">

	<insert id="enrollClass" parameterType="com.jwland.domain.classes.ClassDomain">
		INSERT INTO jwland.class(class_name, open_year, open_month, start_date, total_class_count, created_at, create_account_id, modify_at, modify_account_id)
		VALUES(#{className}, #{openYear}, #{openMonth}, #{startDate}, #{totalClassCount}, now(), #{createAccountId}, now(), #{modifyAccountId})
	</insert>

	<select id="findClassByClassName" parameterType="String" resultType="com.jwland.domain.classes.ClassDomain">
		SELECT * FROM jwland.class
		WHERE class_name = #{className}
	</select>
	
	<select id="getClassDetails" parameterType="String" resultType="com.jwland.domain.classes.ClassDetailDto">
		SELECT class_sequence_no, class_name, open_year, open_month, start_date, open
		FROM jwland.class
		WHERE open = #{open}
		ORDER BY open DESC
	</select>

</mapper>